<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org"
    			 xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head th:fragment="head">        
        
        <!-- Meta -->
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1">

        <!-- Title -->
        <title>..:: ATACAMABIBLIO ::..</title>

        <!-- Favicon -->
        <link th:href="@{/images/favicon.ico}" href="images/favicon.ico" rel="icon" type="image/x-icon" />

        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i%7CLato:100,100i,300,300i,400,400i,700,700i,900,900i" rel="stylesheet" />
        <link th:href="@{/css/font-awesome.min.css}" href="css/font-awesome.min.css" rel="stylesheet" type="text/css" />

        <!-- Mobile Menu -->
        <link th:href="@{/css/mmenu.css}" href="css/mmenu.css" rel="stylesheet" type="text/css" />
        <link th:href="@{/css/mmenu.positioning.css}" href="css/mmenu.positioning.css" rel="stylesheet" type="text/css" />

        <!-- Stylesheet -->
        <link th:href="@{/style.css}" href="style.css" rel="stylesheet" type="text/css" />
        <link th:href="@{/css/tabla.css}" href="css/tabla.css" rel="stylesheet" type="text/css" />
	
		<!-- Intl Phone Input -->	
		<link th:href="@{/css/intlTelInput.min.css}" href="css/intlTelInput.min.css" rel="stylesheet"/>
	
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="js/html5shiv.min.js" th:src="@{/js/html5shiv.min.js}"></script>
        <script src="js/respond.min.js" th:src="@{/js/respond.min.js}"></script>
        <![endif]-->

        <!-- jQuery Latest Version 1.x -->
        <script type="text/javascript" th:src="@{/js/jquery-1.12.4.min.js}" src="js/jquery-1.12.4.min.js"></script>

        <!-- jQuery UI -->
        <script type="text/javascript" th:src="@{/js/jquery-ui.min.js}" src="js/jquery-ui.min.js"></script>

        <!-- jQuery Easing -->
        <script type="text/javascript" th:src="@{/js/jquery.easing.1.3.js}" src="js/jquery.easing.1.3.js"></script>

        <!-- Bootstrap -->
        <script type="text/javascript" th:src="@{/js/bootstrap.min.js}" src="js/bootstrap.min.js"></script>

        <!-- Mobile Menu -->
        <script type="text/javascript" th:src="@{/js/mmenu.min.js}" src="js/mmenu.min.js"></script>

        <!-- Harvey - State manager for media queries -->
        <script type="text/javascript" th:src="@{/js/harvey.min.js}" src="js/harvey.min.js"></script>

        <!-- Waypoints - Load Elements on View -->
        <script type="text/javascript" th:src="@{/js/waypoints.min.js}" src="js/waypoints.min.js"></script>

        <!-- Facts Counter -->
        <script type="text/javascript" th:src="@{/js/facts.counter.min.js}" src="js/facts.counter.min.js"></script>

        <!-- MixItUp - Category Filter -->
        <script type="text/javascript" th:src="@{/js/mixitup.min.js}" src="js/mixitup.min.js"></script>

        <!-- Owl Carousel -->
        <script type="text/javascript" th:src="@{/js/owl.carousel.min.js}" src="js/owl.carousel.min.js"></script>

        <!-- Accordion -->
        <script type="text/javascript" th:src="@{/js/accordion.min.js}" src="js/accordion.min.js"></script>

        <!-- Responsive Tabs -->
        <script type="text/javascript" th:src="@{/js/responsive.tabs.min.js}" src="js/responsive.tabs.min.js"></script>

        <!-- Responsive Table -->
        <script type="text/javascript" th:src="@{/js/responsive.table.min.js}" src="js/responsive.table.min.js"></script>

        <!-- Masonry -->
        <script type="text/javascript" th:src="@{/js/masonry.min.js}" src="js/masonry.min.js"></script>

        <!-- Carousel Swipe -->
        <script type="text/javascript" th:src="@{/js/carousel.swipe.min.js}" src="js/carousel.swipe.min.js"></script>

        <!-- bxSlider -->
        <script type="text/javascript" th:src="@{/js/bxslider.min.js}" src="js/bxslider.min.js"></script>

        <!-- Custom Scripts -->
        <script type="text/javascript" th:src="@{/js/main.js}" src="js/main.js"></script>

        <!-- Google Map API -->
        <script type="text/javascript"  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAT5k-RhvFSVIuCALkpHhKgQx6SJUd9gpI"></script>

        <!-- Google Map (Custom Style) -->
        <script type="text/javascript" th:src="@{/js/google.map.js}" src="js/google.map.js"></script>
		
		<!-- Intl Phone Input -->	
		<script th:src="@{/js/intlTelInput.min.js}" src="js/intlTelInput.min.js"></script>
	
</head>

<body>
        
    <!-- Start: Header Section -->
    <header id="header-v1" class="navbar-wrapper" th:fragment="header">
        <div class="container">
            <div class="row">
                <nav class="navbar navbar-default">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="navbar-header">
                                <div class="navbar-brand">
                                    <h1>
                                        <a>
                                            <img th:src="@{/images/Atacama-Biblio.png}" src="images/Atacama-Biblio.png" alt="LIBRARIA" />
                                        </a>
                                    </h1>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <!-- Header Topbar -->
                            <div class="header-topbar hidden-sm hidden-xs">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="topbar-info">
                                            <a href="tel:+56976002971"><i class="fa fa-phone"></i>+56912345678</a>
                                            <span>/</span>
                                            <a href="#"><i class="fa fa-envelope"></i>soporte@atacamabiblio.com</a>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="topbar-links" sec:authorize="isAnonymous()">
                                            <a th:href="@{login}"><i class="fa fa-lock"></i>Iniciar sesión / Registrarse</a>                                                                                                
                                        </div>
                                        <div class="topbar-links" sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_USER')">
                                            <a sec:authorize="hasRole('ROLE_USER')"><i class="fa fa-user"></i><a sec:authentication="name"/></a>
                                            <a sec:authorize="hasRole('ROLE_ADMIN')"><i class="fa fa-user"></i><a th:text="${#authentication.name} + | | + [ + | | + ADMINISTRADOR + | | + ]"/></a>
                                            <span sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_USER')">|</span><
                                            <a sec:authorize="hasAnyRole('ROLE_ADMIN','ROLE_USER')" th:href="@{/logout}"><i class="fa fa-arrow-right"></i>Cerrar Sesión</a>
                                            <span sec:authorize="hasRole('ROLE_USER')">|</span>
                                            <div class="header-cart dropdown" sec:authorize="hasRole('ROLE_USER')">
                                                <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                                                    <i class="fa fa-shopping-cart"></i>
                                                    <small th:text="${#lists.size(session.Carrito)}"></small>
                                                </a>
                                                <div class="dropdown-menu cart-dropdown">
                                                    <ul>
                                                        <li class="clearfix" th:each="car : ${session.Carrito}">
                                                            <div class="item-info">
                                                                <div class="name">
                                                                    <a th:text="${car.libro.nombre}"></a>
                                                                </div>
                                                                <div class="author"><strong>Autor:</strong> [[${car.libro.autor}]]</div>
                                                                <div class="price" th:text="|${car.cantidad}x $${car.libro.precio}|"></div>
                                                            </div>
                                                            <a class="remove" th:href="@{'/removefromcart/' + ${car.libro.id}} +'?url='+ ${#httpServletRequest.requestURI}"><i class="fa fa-trash-o"></i></a>
                                                        </li>
                                                    </ul>
                                                    <div class="cart-total">
                                                        <div class="title">SubTotal</div>
                                                        <div class="price" th:text="|$${session.Total}|"></div>
                                                    </div>
                                                    <div class="cart-buttons">
                                                        <a th:href=@{/cart} class="btn btn-dark-gray">Ver carrito</a>
                                                        <a th:href=@{checkout} class="btn btn-primary">Pagar todo</a>
                                                    </div>
                                                </div>
                                            </div>                                            
                                        </div>                                        
                                    </div>
                                </div>
                            </div>
                            <div class="navbar-collapse hidden-sm hidden-xs" sec:authorize="isAnonymous()">
                                <ul class="nav navbar-nav">
                                    <li class="dropdown active">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/}">Inicio</a>
                                    </li>
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/bookgrid}">Libros disponibles</a>
                                    </li>
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/#aboutus}">¿Quiénes somos?</a>
                                    </li>
                                    <li><a th:href="@{contact}">Contacto</a></li>
                                </ul>
                            </div>
                            <div class="navbar-collapse hidden-sm hidden-xs" sec:authorize="hasRole('ROLE_USER')">
                                <ul class="nav navbar-nav">
                                    <li class="dropdown active">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/myaccount}">Mi cuenta</a>
                                    </li>                                  
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" href="#">Mi biblioteca</a>
                                    </li>
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/bookgrid}">Libros disponibles</a>
                                    </li>
                                    <li><a th:href="@{/contact}">Contacto</a></li>
                                </ul>
                            </div>   
                            <div class="navbar-collapse hidden-sm hidden-xs" sec:authorize="hasRole('ROLE_ADMIN')">
                                <ul class="nav navbar-nav">
                                    <li class="dropdown active">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/myaccount}">Mi cuenta</a>
                                    </li>
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{book/create}">Registrar nuevo libro</a>
                                    </li>                                    
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/bookgrid}">Libros disponibles</a>
                                    </li>                                    
                                    <li class="dropdown">
                                        <a data-toggle="dropdown" class="dropdown-toggle disabled" th:href="@{/users}">Lista de usuarios</a>
                                    </li>                                    
                                </ul>
                            </div>                                                     
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>
    <!-- End: Header Section -->        


</body>